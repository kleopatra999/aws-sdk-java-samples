<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<codeSamples>
<sample description="Create your credentials file at ~/.aws/credentials (C:\Users\USER_NAME\.aws\credentials for Windows users)" id="CreateClient" title="Create an S3 client">
<content>AmazonS3 s3 = new AmazonS3Client();
Region usWest2 = Region.getRegion(Regions.US_WEST_2);
s3.setRegion(usWest2);</content>
</sample>
<sample description="Amazon S3 bucket names are globally unique, so once a bucket name has been taken by any user, you can't create another bucket with that same name." id="CreateBucket" title="Create an S3 bucket">
<content>s3.createBucket(bucketName);</content>
</sample>
<sample description="List the buckets in your account" id="ListBuckets" title="List buckets">
<content>for (Bucket bucket : s3.listBuckets()) {
    System.out.println(" - " + bucket.getName());
}
System.out.println();</content>
</sample>
<sample description="You can easily upload a file to S3, or upload directly an InputStream if you know the length of the data in the stream." id="PutObject" title="Upload an object to a bucket">
<content>s3.putObject(new PutObjectRequest(bucketName, key, createSampleFile()));</content>
</sample>
<sample description="When you download an object, you get all of the object's metadata and a stream from which to read the contents." id="GetObject" title="Download an S3 object.">
<content>S3Object object = s3.getObject(new GetObjectRequest(bucketName, key));</content>
</sample>
<sample description="List objects in your bucket by prefix.  Keep in mind that buckets with many objects might truncate their results when listing their objects, so be sure to check if the returned object listing is truncated." id="ListObjects" title="List S3 objects in bucket">
<content>ObjectListing objectListing = s3.listObjects(new ListObjectsRequest()
        .withBucketName(bucketName)
        .withPrefix("My"));
for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {
    System.out.println(" - " + objectSummary.getKey() + "  " +
            "(size = " + objectSummary.getSize() + ")");
}
System.out.println();</content>
</sample>
<sample description="Unless versioning has been turned on for your bucket, there is no way to undelete an object, so use caution when deleting objects." id="DeleteObject" title="Delete an S3 object">
<content>s3.deleteObject(bucketName, key);</content>
</sample>
<sample description="A bucket must be completely empty before it can be deleted, so remember to delete any objects from your buckets before you try to delete them." id="DeleteBucket" title="Delete an S3 bucket">
<content>s3.deleteBucket(bucketName);</content>
</sample>
</codeSamples>
